<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Api-requestor by lipten</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Api-requestor</h1>
        <p>利用API-requestor无需定义请求方法即可调用API请求接口</p>

        <p class="view"><a href="https://github.com/lipten/API-requestor">View the Project on GitHub <small>lipten/API-requestor</small></a></p>


        <ul>
          <li><a href="https://github.com/lipten/API-requestor/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/lipten/API-requestor/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/lipten/API-requestor">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="api-requestor" class="anchor" href="#api-requestor" aria-hidden="true"><span class="octicon octicon-link"></span></a>API-requestor</h1>

<blockquote>
<p>利用API-requestor无需定义请求方法即可调用API请求接口，无第三方依赖。</p>
</blockquote>

<hr>

<h2>
<a id="使用方法" class="anchor" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用方法</h2>

<h4>
<a id="1-引入api-requestorjs" class="anchor" href="#1-%E5%BC%95%E5%85%A5api-requestorjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. 引入API-requestor.js</h4>

<p><code>&lt;script src="API-requestor.js"&gt;&lt;/script&gt;</code></p>

<h4>
<a id="2配置信息" class="anchor" href="#2%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.配置信息</h4>

<pre>var apiOpt = {
        apiArr :[
            //配置接口名称及方法
            //格式为'接口名(操作方法1,操作方法2)'
            'APIrequestor(star)',
        ],
        url:'https://github.com/lipten/'
    }
</pre>

<h4>
<a id="3生成接口" class="anchor" href="#3%E7%94%9F%E6%88%90%E6%8E%A5%E5%8F%A3" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.生成接口</h4>

<pre>var API = APIrequestor(apiOpt);</pre>

<h4>
<a id="4调用请求方法" class="anchor" href="#4%E8%B0%83%E7%94%A8%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.调用请求方法</h4>

<pre>API.APIrequestor.star();</pre>

<hr>

<h2>
<a id="doc" class="anchor" href="#doc" aria-hidden="true"><span class="octicon octicon-link"></span></a>Doc</h2>

<h4>
<a id="apiopt配置信息" class="anchor" href="#apiopt%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>apiOpt配置信息</h4>

<pre>
var apiOpt = {
         //配置接口名称和方法
        //格式为'业务名(操作方法1,操作方法2)'

        apiArr :[
        
            //====这里只是示例一些常用接口
            'user(logout,login,add,verify,lostpass,get)',
            'company(_normal,config,getconfig)',
            'goods(_normal,choose,edit)',

            //====记得帮忙点个star哦
            'APIrequestor(star)'
        ],

        //这里默认预定义一些常用方法(如：get,add,edit,del)
        //前面的示例接口看到的'_normal'，即代表get,query,add,edit,del这五个方法
        //_normal会被解析为get,query,add,edit,del，所以不要把_normal当成方法调用了
        config : {
            '_curd': 'get,add,edit,del',
            '_mul': 'query,muladd,muldel,muledit',
            '_normal': 'get,query,add,edit,del',
        },

        //统一的接口地址,暂不支持配置单个接口的url
        url:'https://github.com/lipten/'

</pre>

<h2>
<a id="调用方法" class="anchor" href="#%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>调用方法</h2>

<pre>
    //== 调用方法
    //API.user.login(ajaxArg)
    //API.company.getconfig(ajaxArg)


    //== 调用接口可带参数
    var ajaxArg = {
        method  : "post",       //默认post
        data    : "",           //默认为空，可传string或json对象
        success:function(data){
            console.log('请求成功')
        },
        error:function(res){
            alert('方法成功调用，但是服务器没提供接口')
            console.log('请求失败')
        }
    }

    //------对应apiArr里的元素'slidePage(star)'=&gt;API.slidePage.star()
    API.slidePage.star(ajaxArg);
</pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/lipten">lipten</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
