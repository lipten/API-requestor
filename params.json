{"name":"Api-requestor","tagline":"利用API-requestor无需定义请求方法即可调用API请求接口","body":"\r\n\r\n# API-requestor\r\n>利用API-requestor无需定义请求方法即可调用API请求接口，无第三方依赖。\r\n\r\n----------\r\n\r\n## 使用方法\r\n\r\n#### 1. 引入API-requestor.js\r\n`<script src=\"API-requestor.js\"></script>`\r\n\r\n#### 2.配置信息\r\n<pre>var apiOpt = {\r\n        apiArr :[\r\n\t\t\t//配置接口名称及方法\r\n\t\t\t//格式为'接口名(操作方法1,操作方法2)'\r\n            'APIrequestor(star)',\r\n        ],\r\n        url:'https://github.com/lipten/'\r\n    }\r\n</pre>\r\n\r\n#### 3.生成接口\r\n<pre>var API = APIrequestor(apiOpt);</pre>\r\n\r\n\r\n#### 4.调用请求方法\r\n<pre>API.APIrequestor.star();</pre>\r\n\r\n\r\n----------\r\n\r\n## Doc\r\n\r\n#### apiOpt配置信息\r\n<pre>\r\nvar apiOpt = {\r\n\t\t //配置接口名称和方法\r\n        //格式为'业务名(操作方法1,操作方法2)'\r\n\r\n        apiArr :[\r\n        \r\n            //====这里只是示例一些常用接口\r\n            'user(logout,login,add,verify,lostpass,get)',\r\n            'company(_normal,config,getconfig)',\r\n            'goods(_normal,choose,edit)',\r\n\r\n            //====记得帮忙点个star哦\r\n            'APIrequestor(star)'\r\n        ],\r\n\r\n        //这里默认预定义一些常用方法(如：get,add,edit,del)\r\n        //前面的示例接口看到的'_normal'，即代表get,query,add,edit,del这五个方法\r\n        //_normal会被解析为get,query,add,edit,del，所以不要把_normal当成方法调用了\r\n        config : {\r\n            '_curd': 'get,add,edit,del',\r\n            '_mul': 'query,muladd,muldel,muledit',\r\n            '_normal': 'get,query,add,edit,del',\r\n        },\r\n\r\n        //统一的接口地址,暂不支持配置单个接口的url\r\n        url:'https://github.com/lipten/'\r\n\r\n</pre>\r\n\r\n## 调用方法\r\n<pre>\r\n\t//== 调用方法\r\n    //API.user.login(ajaxArg)\r\n    //API.company.getconfig(ajaxArg)\r\n\r\n\r\n    //== 调用接口可带参数\r\n    var ajaxArg = {\r\n        method  : \"post\",       //默认post\r\n        data    : \"\",           //默认为空，可传string或json对象\r\n        success:function(data){\r\n            console.log('请求成功')\r\n        },\r\n        error:function(res){\r\n            alert('方法成功调用，但是服务器没提供接口')\r\n            console.log('请求失败')\r\n        }\r\n    }\r\n\r\n    //------对应apiArr里的元素'slidePage(star)'=>API.slidePage.star()\r\n    API.slidePage.star(ajaxArg);\r\n</pre>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}